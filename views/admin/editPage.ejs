<%- include('../parts/adminheader.ejs')%>
<%- include('../parts/adminnav.ejs')%>
<%- include('../messages.ejs')%>

<link rel="stylesheet" href="/css/adminAddAndEditPagesStyle.css">


<div class="container mt-4">
    <div class="d-flex justify-content-between align-items-center">
        <h2 class="page-title">✏️ Edit <%= pageToEdit.title %> Page</h2>
        <a href="/admin/pages" class="btn btn-dark back-button">
            ⬅ Back to All Pages
        </a>
    </div>
</div>

<br>

<div class="container dark-theme card shadow p-4">
    <form action="/admin/pages/editPage/<%= slug %>" method="POST">
        <div class="mb-3">
            <label class="form-label text-info"> 
                <i class="fas fa-heading text-primary"></i> Page Title
            </label>
            <input type="text" class="form-control form-control-lg bg-dark text-white border-secondary" 
                name="title" value="<%= pageToEdit.title %>" placeholder="Edit the page title">
        </div>
        
        <div class="mb-3">
            <label class="form-label text-info">
                <i class="fas fa-link text-primary"></i> Slug
            </label>
            <input type="text" class="form-control bg-dark text-white border-secondary" 
                name="slug" value="<%= pageToEdit.slug %>" placeholder="Edit the slug (optional)">
        </div>
        
        <div class="mb-3">
            <label class="form-label text-info">
                <i class="fas fa-edit text-primary"></i> Page Content
            </label>
            <textarea name="content" id="editor" class="form-control bg-dark text-white border-secondary" 
                rows="6" placeholder="Edit the page content..."><%= pageToEdit.content.trim() %></textarea>
        </div>
        
        <!-- to send id of the page Document of the pages collection at req.body.id -->
        <input type="hidden" name="id" value="<%= pageToEdit.id %>">

        <button type="submit" class="btn btn-warning w-100">
            💾 Save Changes
        </button>
    </form>
</div>


<%- include('../parts/adminfooter.ejs')%>

