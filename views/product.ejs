<%- include('./parts/header.ejs')%>
<%- include('./parts/nav.ejs')%>

<!-- Custom Styles -->
<link rel="stylesheet" href="/css/productPage.css">


  <div class="row">

    <h1 class="page-header"><%= product.title %></h1>

    <div class="col-xs-12 col-md-5">
      <img src="<%= product.images[0] %>" class="spi">
      <br>
    </div>

    <div class="col-xs-12 col-md-7 gallery-title">
      <h6 class="gallery-title"><%= product.description %></h6>
        <p>
          <a href="/cart/add/<%= product.slug %>">Add To Cart</a>
        </p>
      <p>$<%= parseFloat(product.price).toFixed(2) %></p>
    </div>
  </div>

  <br>

  <div class="col-xs-12">
    <h6 class="gallery-title"><%= product.title %> Gallery</h6>
    <ul class="gallery">
      <li>
        <a data-fancybox="gallery" href="<%= product.images[0] %>">
          <img src="<%= product.images[0] %>" alt="">
        </a>
      </li>
      <li>
        <a data-fancybox="gallery" href="<%= product.images[1] %>">
          <img src="<%= product.images[1] %>" alt="">
        </a>
      </li>
      <li>
        <a data-fancybox="gallery" href="<%= product.images[2] %>">
          <img src="<%= product.images[2] %>" alt="">
        </a>
      </li>
      <li>
        <a data-fancybox="gallery" href="<%= product.images[3] %>">
          <img src="<%= product.images[3] %>" alt="">
        </a>
      </li>
    </ul>
  </div>

  
  
  <!-- Authentication Info -->
  <div class="row mt-4">
    <div class="col-12 text-center auth-links">
      <% if (user) { %>
        <p>You are logged in. <a href="/auth/logout">Logout</a></p>
      <% } else { %>
        <p>You are not logged in. <a href="/auth/login">Login</a> or <a href="/auth/signup">Register</a>.</p>
      <% } %>
    </div>
  </div>


  <!-- jQuery (Required for Fancybox) -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<!-- Fancybox JS -->
<script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script>

<!-- Initialize Fancybox -->
<script>
  $(document).ready(function() {
      Fancybox.bind("[data-fancybox='gallery']", {
          loop: true,  // Enables infinite scrolling in gallery
          animationEffect: "zoom-in-out",
      });
  });
</script>

<%- include('./parts/footer.ejs')%>